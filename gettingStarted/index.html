<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://vulcainjs.github.io/gettingStarted/">
      
      
        <meta name="author" content="Alain Metge">
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.ico">
      
      <meta name="generator" content="mkdocs-0.16.1, mkdocs-material-1.0.3">
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-f3ab63f78a.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-02ce7adcc2.palette.css">
      
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
  crossorigin="anonymous">
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
<style>  
  .md-header a {
    color: white;
  }
  
  .md-header a:hover {
    text-decoration: none;
  }
  
  .nav li a:hover {
    background-color: #2196f3;
    color: hsla( 0, 0%, 100%, .7);
  }
  
  .btn-success {
    background-image: linear-gradient(#88c149, #73a839 60%, #699934);
  }
</style>    
  </head>
    

<body data-md-color-primary="blue" data-md-color-accent="light-blue">
  
<svg class="md-svg">
  <defs>
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> 
  </defs>
</svg>      
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
<label class="md-overlay" data-md-component="overlay" for="drawer"></label> 
<!-- header -->
<header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Vulcain" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          <ul class="nav navbar-nav">
            <li><a href="/gettingStarted/index.html">Getting started</a></li>
            <li><a href="/reference/index.html">Documentation</a></li>            
          </ul>
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
        <label class="md-icon md-icon--search md-header-nav__button" for="search"></label> 
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div> 
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
           


  


  <a href="https://github.com/vulcainjs/vulcainjs.github.io" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>
 
        </div>
      </div>
    </div>
  </nav>
</header>    
<!-- !header -->

<div class="container">
  <div class="row" style="height: 80px"></div>
  <div class="col-md-11">
      
        <h3 id="getting-started">Getting started</h3>
<p><strong>Prerequisites</strong></p>
<ul>
<li>node 6.0 see <a href="https://nodejs.org/en/download/">this link</a> to install node on your machine.</li>
<li>docker version &gt; 1.12. See <a href="https://docs.docker.com/engine/installation/">this link</a> to install docker.</li>
<li><strong>vulcain-cli</strong> is not mandatory but can help you to start easily with <strong>vulcain</strong>. Install it with</li>
</ul>
<div class="codehilite"><pre><span></span>npm install vulcain-cli -g
</pre></div>


<p><strong>Installing a demo vulcain environment</strong></p>
<ul>
<li>Create a virtual machine with docker-machine</li>
</ul>
<div class="codehilite"><pre><span></span>docker-machine create -d virtualbox --virtualbox-memory <span class="m">2048</span> vulcain
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Machine must have at least 2gb of memory to run ElasticSearch</p>
</div>
<ul>
<li>Install vulcain-cli like any global npm package with the following command (may needs sudo):</li>
</ul>
<div class="codehilite"><pre><span></span>npm install -g vulcain-cli
</pre></div>


<ul>
<li>Clone the demo scripts repo</li>
</ul>
<div class="codehilite"><pre><span></span>git clone https://github.com/vulcainjs/vulcain-demo.git vulcain-demo
</pre></div>


<ul>
<li>And run the initialisation script with</li>
</ul>
<div class="codehilite"><pre><span></span><span class="nb">cd</span> vulcain-demo
./install-demo.sh
</pre></div>


<p>You have now a fully operational vulcain environment.</p>
<p>Vulcain UI is available on <code>http://$(docker-machine ip vulcain):8080</code> with the default credentials admin/vulcain.</p>
<h3 id="create-your-first-microservice">Create your first microservice</h3>
<blockquote>
<p>The following commands must be run in the service's root folder with an initialiazed docker context in order to connect
to vulcain machine. (This is the case if you have run the install-demo script)</p>
</blockquote>
<div class="codehilite"><pre><span></span>vulcain create service1
</pre></div>


<p>This command creates a microservice named service1 using a default project template which is a fully functional
CRUD customer service.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Vulcain templates are predefined for <a href="https://code.visualstudio.com/">vscode</a> or <a href="https://www.jetbrains.com/webstorm/">webstorm</a>.</p>
<p>The starter template contains a fully functional microservice managing a simple <code>Customer</code>. By default, the
microservice uses a very basic in-memory provider persisting to disk for testing.</p>
</div>
<p><strong>Vulcain</strong> microservice implements CQRS pattern providing two (and only two) kinds of request:</p>
<ul>
<li>Command (named action in <strong>vulcain</strong>) requests available with a <strong>POST</strong> http verb.</li>
<li>Query requests available with a <strong>GET</strong> http verb.</li>
</ul>
<p>See <a href="../reference/index.html">documentation</a> for more details.</p>
<p><strong>For this demo, all handlers (query and actions) are in the same service but it's a best practice to dispatch handlers on separate services.</strong></p>
<p>You can now edit the code or publish it directly with :</p>
<div class="codehilite"><pre><span></span>vulcain publish <span class="m">1</span>
</pre></div>


<p>where 1 is a version number (you must increment it every time you publish a new version).</p>
<p>When a microservice is published, <strong>vulcain</strong> automatically assigns a unique port number beginning from 30000 and used to test your microservice. All microservice endpoints follow the same endpoint format (valid only for testing) :</p>
<div class="codehilite"><pre><span></span>http://&lt;host&gt;:&lt;port&gt;/api/&lt;verb&gt;
</pre></div>


<p><strong>Test the microservice</strong></p>
<p><strong>Vulcain</strong> microservice is auto-descriptive, you can expose its definition () with :</p>
<div class="codehilite"><pre><span></span>curl http:<span class="k">$(</span>docker-machine ip vulcain<span class="k">)</span>:30000/api/_servicedescription
</pre></div>


<p>or its dependencies (databases, external http requests, other microservice, configuration properties and npm packages) with:</p>
<div class="codehilite"><pre><span></span>curl http:<span class="k">$(</span>docker-machine ip vulcain<span class="k">)</span>:30000/api/_servicedependencies
</pre></div>


<p>By default, the microservice uses a very basic in-memory provider persisting to disk for testing.</p>
      
  </div>
    
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
  crossorigin="anonymous"></script>   
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
  crossorigin="anonymous"></script>    
    
    
      
    
  </body>
</html>